#MIC Key Times
#Author: TradeArcher2020
#Version: 0.2
#Date Created: 08/23/2021
#Description: This indicator is based on the MIC process's key times during the intraday. It is meant to alert you to Zombie and Reversal times as well as the end of the day warning to short sellers and the time for short sellers to close out and take off all open orders.  

def currentAggPrd = GetAggregationPeriod();
def isIntraDay = currentAggPrd < AggregationPeriod.DAY;

AddVerticalLine(visible = isIntraDay and SecondsFromTime(1030) == 0 and SecondsTillTime(1030) == 0, text = "Begin Zombie Hours", color = Color.WHITE);
Alert(isIntraDay and SecondsFromTime(1030) == 0 and SecondsTillTime(1030) == 0, "ZOMBIE HOURS", sound = Sound.Chimes);

AddVerticalLine(visible = isIntraDay and SecondsFromTime(1400) == 0 and SecondsTillTime(1400) == 0, text = "Begin Zombie Reversal", color = Color.WHITE);
Alert(isIntraDay and SecondsFromTime(isIntraDay and 1400) == 0 and SecondsTillTime(1400) == 0, "REVERSAL HOUR", sound = Sound.Chimes);

AddVerticalLine(visible = isIntraDay and SecondsFromTime(1500) == 0 and SecondsTillTime(1500) == 0, text = "Warning to Shorts", color = Color.ORANGE);
Alert(isIntraDay and SecondsFromTime(isIntraDay and 1500) == 0 and SecondsTillTime(1500) == 0, "WARNING TO SHORTS", sound = Sound.Chimes);

AddVerticalLine(visible = isIntraDay and SecondsFromTime(1530) == 0 and SecondsTillTime(1530) == 0, text = "Shorts GET OUT NOW!!!", color = Color.RED);
Alert(isIntraDay and SecondsFromTime(isIntraDay and 1530) == 0 and SecondsTillTime(1530) == 0, "SHORTS GET OUT NOW!!!", sound = Sound.Chimes);

AddLabel(isIntraDay and SecondsFromTime(1030) >= 0 and SecondsTillTime(1400) >= 0, "Zombie Hours", Color.GREEN);
AddLabel(isIntraDay and SecondsFromTime(1400) >= 0 and SecondsTillTime(1500) >= 0, "Reversal Hour", Color.DARK_GREEN);
AddLabel(isIntraDay and SecondsFromTime(1500) >= 0 and SecondsTillTime(1530) >= 0, "WARNING TO SHORT", Color.ORANGE);
AddLabel(isIntraDay and SecondsFromTime(1530) >= 0 and SecondsTillTime(1600) >= 0, "SHORTS GET OUT NOW!!!", Color.RED);